{% extends 'base.html' %}

{% block title %}
Product Table Page
{% endblock %}

{% block content %}

<body class="text-center">
    <div class="container">


        <table class="table table-striped table-secondary" style="width: 100%">
            <tr>
                <th>id</th>
                <th>modelCode</th>
                <th>modelName</th>
                <th>orderStatus</th>
                <th>startDate</th>
                <th>executionDate</th>
                <th>delta</th>
            </tr>
            {% for product in products %}
            <tr>
                <td>{{product.id}}</td>
                <td>{{product.modelCode}}</td>
                <td>{{product.modelName}}</td>
                <td>{{product.orderStatus}}</td>
                <td>{{product.startDate.strftime('%Y-%m-%d %H:%M:%S')}}</td>
                <td>{% if product.executionDate is not none%}{{product.executionDate}}{%
                    endif%}
                </td>
                <td>{% if product.executionDate is not none%}{% set delta = product.executionDate - product.startDate %}
                    {{delta}}
                    {% else %}
                    in progress
                    {% endif %}
                </td>

            </tr>
            {% endfor %}
        </table>
    </div>
</body>
{% endblock %}